{"ast":null,"code":"var _s = $RefreshSig$();\n/**\r\n * Hook personalizado para gestionar el carrito\r\n * Proporciona acceso al store del carrito y métodos útiles\r\n */\nimport { useEffect } from 'react';\nimport useCartStore from '../store/cartStore';\nimport useAuthStore from '../../auth/store/authStore';\nexport function useCart() {\n  _s();\n  const {\n    cliente,\n    isAuthenticated\n  } = useAuthStore();\n  const cartStore = useCartStore();\n\n  // Cargar carrito cuando el usuario está autenticado\n  useEffect(() => {\n    if (isAuthenticated && cliente !== null && cliente !== void 0 && cliente.id_cliente && !cartStore.cart) {\n      cartStore.fetchCart(cliente.id_cliente);\n    }\n  }, [isAuthenticated, cliente === null || cliente === void 0 ? void 0 : cliente.id_cliente, cartStore.cart]);\n  return {\n    ...cartStore,\n    isEmpty: cartStore.cartItems.length === 0,\n    itemCount: cartStore.getTotalItems()\n  };\n}\n_s(useCart, \"P8Jiu6EY+hO6tAkN30Xt3BfwXN0=\", false, function () {\n  return [useAuthStore, useCartStore];\n});","map":{"version":3,"names":["useEffect","useCartStore","useAuthStore","useCart","_s","cliente","isAuthenticated","cartStore","id_cliente","cart","fetchCart","isEmpty","cartItems","length","itemCount","getTotalItems"],"sources":["C:/Users/jesus/Desktop/mantenimiento/front_rosaline/front_gestion/src/features/cart/hooks/useCart.js"],"sourcesContent":["/**\r\n * Hook personalizado para gestionar el carrito\r\n * Proporciona acceso al store del carrito y métodos útiles\r\n */\r\nimport { useEffect } from 'react';\r\nimport useCartStore from '../store/cartStore';\r\nimport useAuthStore from '../../auth/store/authStore';\r\n\r\nexport function useCart() {\r\n  const { cliente, isAuthenticated } = useAuthStore();\r\n  const cartStore = useCartStore();\r\n\r\n  // Cargar carrito cuando el usuario está autenticado\r\n  useEffect(() => {\r\n    if (isAuthenticated && cliente?.id_cliente && !cartStore.cart) {\r\n      cartStore.fetchCart(cliente.id_cliente);\r\n    }\r\n  }, [isAuthenticated, cliente?.id_cliente, cartStore.cart]);\r\n\r\n  return {\r\n    ...cartStore,\r\n    isEmpty: cartStore.cartItems.length === 0,\r\n    itemCount: cartStore.getTotalItems(),\r\n  };\r\n}\r\n\r\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,YAAY,MAAM,oBAAoB;AAC7C,OAAOC,YAAY,MAAM,4BAA4B;AAErD,OAAO,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACxB,MAAM;IAAEC,OAAO;IAAEC;EAAgB,CAAC,GAAGJ,YAAY,CAAC,CAAC;EACnD,MAAMK,SAAS,GAAGN,YAAY,CAAC,CAAC;;EAEhC;EACAD,SAAS,CAAC,MAAM;IACd,IAAIM,eAAe,IAAID,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEG,UAAU,IAAI,CAACD,SAAS,CAACE,IAAI,EAAE;MAC7DF,SAAS,CAACG,SAAS,CAACL,OAAO,CAACG,UAAU,CAAC;IACzC;EACF,CAAC,EAAE,CAACF,eAAe,EAAED,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG,UAAU,EAAED,SAAS,CAACE,IAAI,CAAC,CAAC;EAE1D,OAAO;IACL,GAAGF,SAAS;IACZI,OAAO,EAAEJ,SAAS,CAACK,SAAS,CAACC,MAAM,KAAK,CAAC;IACzCC,SAAS,EAAEP,SAAS,CAACQ,aAAa,CAAC;EACrC,CAAC;AACH;AAACX,EAAA,CAhBeD,OAAO;EAAA,QACgBD,YAAY,EAC/BD,YAAY;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}